<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>BÜRGY PHOTO</title>
    <link rel="stylesheet" href="./styles.css"/>
    <link rel="icon" type="image/png" href="./media/favicon_io/favicon.ico"/>
</head>
<body>
<header>
    <h1>
        <a href="index.html">&#9678 BÜRGY <span>PHOTO</span></a>
    </h1>
    <nav class="menu">
        <a href="#stories">Stories</a>
        <a href="#rates">Rates</a>
    </nav>
    <button id="theme-toggle" aria-label="Toggle dark mode">Toggle Dark Mode</button>
</header>

<main>
    <section id="about">
        <h2>About</h2>
        <p>
            Welcome to my portfolio. My work focuses on documentation of theatre
            and dance works. I also cover events such as weddings and group
            activities with a reportage approach, to render at best the
            atmosphere of the moment. I work with a Nikon D850 and Zeiss Milvus
            lenses (1.4/25, 1.4/50 and 2/135).

        </p>
    </section>

    <section id="stories">
        <h2>Stories</h2>
        <div class="gallery">
            <figure>
                <img src="media/DSC_5136.jpg" alt=""/>
                <figcaption>Look at the sky</figcaption>
            </figure>

            <figure>
                <img src="media/DSC_5146.jpg" alt=""/>
                <figcaption>Schlittel!</figcaption>
            </figure>

            <figure>
                <img src="media/DSC_5152.jpg" alt=""/>
                <figcaption>Did you see the frozen waterfall?</figcaption>
            </figure>

            <figure>
                <img src="media/DSC_5175.jpg" alt=""/>
                <figcaption>What a m'as-tu-vu!</figcaption>
            </figure>

            <figure>
                <img src="media/DSC_5183.jpg" alt=""/>
                <figcaption>Let's unfold some sunny vibes</figcaption>
            </figure>
        </div>

        <div id="lightbox">
            <button id="lightbox-close" aria-label="Close">&times;</button>
            <figure>
                <img id="lightbox-img" src="" alt="">
                <figcaption id="lightbox-caption"></figcaption>
            </figure>
        </div>

    </section>

    <section id="rates">
        <h2>Rates</h2>
        I propose a fix hourly rate of CHF 280 (min. 1 h in Neuchâtel, 2 h elsewhere), which comprises the
        postprocessing.
    </section>
</main>
<footer>
    <address>
        Neuchâtel - Switzerland
        <a href="mailto:leo.burgy@gmail.com">leo.burgy@gmail.com</a>
        <a href="https://www.instagram.com/leobuergy" target="_blank"
        >@leobuergy</a
        >
        <a href="tel:+41763084807">+41763084807</a>
    </address>
    <p> &copy; <span id="year"></span> BÜRGY PHOTO. All rights reserved. </p>
</footer>

<script>
    // Inject the year in the copyright
    document.getElementById("year").textContent = new Date().getFullYear().toString();

    // Lightbox logic
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");
    const lightboxCaption = document.getElementById('lightbox-caption');

    const galleryFigures = document.querySelectorAll('.gallery figure')

    for (const fig of galleryFigures) {

        const img = fig.querySelector('img');
        const caption = fig.querySelector('figcaption')

        if (!img || !caption) continue;

        img.addEventListener('click', () => {
            lightboxImg.src = img.src;
            lightboxCaption.textContent = caption.textContent ?? "";
            lightbox.style.display = 'flex';
        });
    }

    document.addEventListener('click', (e) => {
        if (e.target === lightbox) {
            lightbox.style.display = 'none';
        }
    });

    document.addEventListener('click', (e) => {
        if (e.target === lightboxImg) {
            lightbox.style.display = 'none';
        }
    });

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            lightbox.style.display = 'none';
        }
    });

    const lightboxClose = document.getElementById('lightbox-close');
    lightboxClose.addEventListener('click', () => {
        lightbox.style.display = 'none';
    });

    // Theme
    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;
    const savedTheme = localStorage.getItem('theme');

    if (!savedTheme) {
        if (globalThis.matchMedia('(prefers-color-scheme: dark)').matches) {
            body.classList.add('dark-mode');
        }
    }
    if (savedTheme) {
        body.classList.add(savedTheme);
    }

    themeToggle.addEventListener('click', () => {
        body.classList.toggle('night');

        if (body.classList.contains('night')) {
            localStorage.setItem('theme', 'night');
        } else {
            localStorage.removeItem('theme');
        }
    })


</script>
</body>
</html>